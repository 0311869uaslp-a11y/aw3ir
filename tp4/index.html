<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP4 - Formulaire avec g√©olocalisation et JSON</title>
    <link rel="stylesheet" href="css/bootstrap.css" />

    <!-- Librer√≠a Leaflet (mapas libres e interactivos) -->
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>



    <style>
      body {
        margin: 20px;
      }
      span {
        font-size: 0.9em;
        color: #555;
        margin-left: 10px;
      }
      #map img {
        border-radius: 10px;
        margin-top: 10px;
      }
    </style>
  </head>

 <body class="bg-light">
  <div class="container mt-5">
    <h1 class="text-center mb-3">Formulaire de contact</h1>
    <h3 class="text-center mb-4">Ajouter un contact</h3>

    <form id="contactForm" class="needs-validation" novalidate>
  <!-- Nom -->
  <div class="mb-3 row">
    <label for="name" class="col-sm-3 col-form-label">Nom</label>
    <div class="col-sm-9 d-flex align-items-center">
      <input
        type="text"
        class="form-control"
        id="name"
        required
        minlength="5"
        onkeyup="calcNbChar(this.id)"
      />
      <span class="ms-2 text-muted"></span>
    </div>
    <div class="invalid-feedback offset-sm-3">Minimum 5 caract√®res</div>
  </div>

  <!-- Pr√©nom -->
  <div class="mb-3 row">
    <label for="firstname" class="col-sm-3 col-form-label">Pr√©nom</label>
    <div class="col-sm-9 d-flex align-items-center">
      <input
        type="text"
        class="form-control"
        id="firstname"
        required
        minlength="5"
        onkeyup="calcNbChar(this.id)"
      />
      <span class="ms-2 text-muted"></span>
    </div>
    <div class="invalid-feedback offset-sm-3">Minimum 5 caract√®res</div>
  </div>

  <!-- Date -->
  <div class="mb-3 row">
    <label for="birthdate" class="col-sm-3 col-form-label">Date de naissance</label>
    <div class="col-sm-9 d-flex align-items-center">
      <input
        type="date"
        class="form-control"
        id="birthdate"
        required
        onkeyup="calcNbChar(this.id)"
        onchange="calcNbChar(this.id)"
      />
      <span class="ms-2 text-muted"></span>
    </div>
    <div class="invalid-feedback offset-sm-3">La date ne peut pas √™tre dans le futur</div>
  </div>

  <!-- Adresse -->
  <div class="mb-3 row">
    <label for="adress" class="col-sm-3 col-form-label">Adresse postale</label>
    <div class="col-sm-9 d-flex align-items-center">
      <div class="input-group flex-grow-1">
        <input
          type="text"
          class="form-control"
          id="adress"
          required
          minlength="5"
          onkeyup="calcNbChar(this.id)"
        />
        
        <button type="button" class="btn btn-secondary" id="gpsBtn">üìç GPS</button>
        <span class="ms-2 text-muted"></span>  
      </div>
    
    </div>
    <!-- DIV donde ir√° el mapa -->
    <div class="col-sm-9 offset-sm-3">
      <div id="map" class="mt-3 border rounded" style="height: 250px;"></div>
    </div>
  </div>

  <!-- Email -->
  <div class="mb-3 row">
    <label for="mail" class="col-sm-3 col-form-label">Adresse mail</label>
    <div class="col-sm-9 d-flex align-items-center">
      <input
        type="email"
        class="form-control"
        id="mail"
        required
        onkeyup="calcNbChar(this.id)"
      />
      <span class="ms-2 text-muted"></span>
    </div>
    <div class="invalid-feedback offset-sm-3">Adresse mail invalide</div>
  </div>

  <!-- Boutons -->
  <div class=" mt-4">
    <button type="submit" class="btn btn-primary w-25 me-2">Ajouter</button>

  </div>
</form>


    <hr class="my-5" />

    <!-- Table -->
     <div class="input-group flex-grow-1 gap-2">
    <h3 class="text-center mb-4">Liste des contacts enregistr√©s</h3>  
   
     <button type="button" class="btn btn-primary" id="resetBtn">Reset</button>
    </div>
    <div class="table-responsive">
      <table class="table table-striped table-bordered align-middle shadow-sm">
        <thead class="table-primary">
          <tr>
            <th>Nom</th>
            <th>Pr√©nom</th>
            <th>Date</th>
            <th>Adresse</th>
            <th>Email</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <script src="js/bootstrap.bundle.js"></script>
  <script src="js/gps.js"></script>
  <script src="js/store.js"></script>
  <script src="js/form-validation.js"></script>
</body>

</html>
